From dmurphy@acorn.co.uk (Dean Murphy) Tue Apr 19 17:31:29 1994
Path: doc.ic.ac.uk!lyra.csx.cam.ac.uk!pipex!uknet!acorn!not-for-mail
From: dmurphy@acorn.co.uk (Dean Murphy)
Newsgroups: comp.sys.acorn
Subject: RISC OS 3 Version 3.5 - Whats New?
Date: 18 Apr 1994 22:08:27 +0100
Organization: Acorn Computers Ltd, Cambridge, England
Lines: 431
Message-ID: <2oussb$cod@acorn.acorn.co.uk>
NNTP-Posting-Host: acorn.acorn.co.uk

People,

Below is the text only version of the 'New Features of RISC OS 3 Version 3.5'
application note. A version which includes diagrams will be available from
the Acorn FTP server tomorrow (19/4/94).

Dean Murphy
Acorn Computers

-----------------------------------------------------------------------------

Support Group Application Note

Number: 253
Issue : 0.05
Author: Dean Murphy

This document details the major differences between RISC OS 3 Version 3.10
and RISC OS 3 Version 3.5 which is supplied with the Risc PC range of
computers.

Applicable Hardware: Acorn Risc PC

Copyright (C) Acorn Computers Limited 1994

Every effort has been made to ensure that the information in this leaflet is
true and correct at the time of printing. However, the products described in
this leaflet are subject to continuous development and improvements and
Acorn Computers Limited reserves the right to change its specifications at
any time. Acorn Computers Limited cannot accept liability for any loss or 
damage arising from the use of any information or particulars in this
leaflet. ACORN, ECONET and ARCHIMEDES are trademarks of Acorn Computers
Limited.

HEW FEATURES OF RISC OS 3 VERSION 3.5 (TEXT ONLY VERSION)

The RISC OS Window Manager now supports the use of outline fonts. This will
allow users to choose an alternative to the standard system font which has
up until now been the only option open to the user. Please note that the
recommended outline font for use with RISC OS 3 Version 3.5 is
Homerton.Medium.

Video hardware in the Acorn Risc PC has been dramatically enhanced and can
now provide screen modes which are capable of displaying up to 16 million
colours on screen at very high resolutions. Because of the versatility of
the new hardware, it is no longer practical to work with the system of mode
numbers which has been used in all previous versions of RISC OS. Instead,
screen modes are now selected using a list of possible resolutions (display
quality) and the number of colours available.

Colour Picker

With RISC OS now supporting up to 16 million colours on screen it was
necessary to provide a more suitable means of selecting colours for use
within applications. The new colour picker allows the user to use three
different mechanisms to choose a colour, RGB, CMYK and HSV. 

RGB

The "physicist's model:" the quantity of each primary colour (red, green,
blue). A colour can modelled as a mixture of the 3 primary colours of light:
red, green and blue: RGB. This is the colour selection model used by
hardware, both electronic and organic (the human eye has receptors for red,
green and blue light). It is widely used in computer systems because of this,
but it is not really "intuitive."

CMYK

The "printer's model:" the quantity of each secondary colour (cyan, magenta,
yellow), along with the key (black). For mixing of pigments, it is better to
use the secondary colours, since they mix subtractively instead of
additively. The secondary colours of light are cyan, magenta and yellow, 
which correspond to the primary colours of pigment (blue, red and yellow). In
addition, although black could be obtained by mixing these three in equal
proportions, in four-colour printing it always has its own ink. This gives
the CMYK model. (The K stands for 'Key' or 'blacK,' so as not to cause
confusion with the B in RGB.)

HSV

The "artist's model:" hue (or "tint"), saturation (or "shade") and value (or
"tone"). A third model is closer to the intuitive understanding of colour:
the most important thing about a colour is its hue: this is just the basic
colour it has. Then we think of what shade (how light or dark) - this is the
saturation, and finally the amount of colour present - the value.

NOTE: In all of these models for colour selection, it is still possible to
choose one of the standard desktop colours using only one mouse click.

New sprite facilities

The sprite facilities have been improved to handle the new 'deep sprite
format' which will allow users to take advantage of the new 32 thousand and
16 million colour modes.

Sprites that have been created on machines using the Computer Concepts colour
card should be compatible with the new machines. 

Desktop Filer

Several cosmetic changes have been made to the Filer module in version 3.5.
The most noticeable changes are evident when dragging files around the
Desktop. A new system of translucent drags has been implemented. Whilst
dragging a file, even though the user can see an image of the file which is
being dragged, it is still possible to see what lies behind the icon. When
dragging a selection of files the filer will no longer display a bounding
box but will instead display a 'package' icon. Directories which are open
are now represented by an 'open directory' icon. It is also possible now to
close an open directory  by Shift-Double-Clicking on it's directory icon.

Task Manager

The new task manager is similar in most respects to older versions but
differs in two areas. The first thing that users of previous versions of
RISC OS will notice is that when dragging the slider bars to allocate 
memory, the value slider will increment in greater steps as the size memory
slot increases. This is called logarithmic scaling and will allow users to
allocate large amounts of RAM with minimum mouse movement.

An section has been added to the task display window for the Dynamic Areas.
Dynamic Areas will be described later in this  document.

Improved Error Messages

The operating system error messages have been improved to be generally more
friendly and informative to the novice user. By the same token, the way in
which the new operating system reports errors has been made more user
friendly by giving applications the opportunity to include a 'Describe'
button in the error window on which the user can click to find out what
exactly has gone wrong. In fact, the operating system will now allow an
application to provide custom buttons in an error window.

Applications supplied with RISC OS 3 Version 3.5

As with all previous versions of RISC OS, version 3.5 is supplied with
several applications as standard. The hard disc contains over 50Mb of
applications and demonstration files. Of all the titles supplied, thirteen
are new, these new titles are listed below. The standard applications Alarm,
Calc, Chars, Configure, Draw, Edit, Help and Paint have all been moved from
ROM onto disc. With the exception of Configure these applications still
appear in the ROM Apps directory but can be removed quite easily if
necessary.

ARPlayer

This is the Acorn Replay Movie player. This application will allow Acorn
Replay movies to be shown in the desktop in up to 32 thousand colours!

AWViewer

An application which will allow pictures generated in the Computer Concepts
graphic design application ArtWorks to be shown in up to 16 million colours
(full 24 bit resolution).

SlideShow

A rolling demo which will cycle through the 100 high quality JPEG images
supplied with the machine. JPEG is an industry standard for compressing and
decompressing high resolution images.

ChangeFSI

Acorn's image conversion and manipulation application which will allow images
stored using most of the industry standard formats to be displayed and saved
as an Acorn Sprite file. This latest version of ChangeFSI can handle the new
deep sprite format (24 bit) and includes support for the new Kodak PhotoCD
format.

Products

Acorns Risc PC product compatibility database. This database contains
information on over 1,900 software titles and will allow users to find out
(using a method of drag and drop) if current versions of existing software
will work on the new machines.

ResetBoot

An application that will allow the Risc PC's !Boot sequence to be restored to
its factory default.

SaveCMOS

This application will save and restore the machine's current CMOS RAM
settings thus allowing the user to keep a backup copy of the machine's
current configuration.

ShowScrap

Running this application will open the current Scrap (temporary workspace)
directory.

Blocks

A desktop game based on Tetris.

Meteors

A desktop game based on Asteroids.

MineHunt

A desktop game.

MemNow

A small utility that displays the amount of free memory on the icon bar
whilst you work.

Flasher

A utility that will make the desktop caret (current text position pointer)
flash.

Pointer

A utility that can dynamically resize the on screen pointer to make it more
visible in very high resolution screen modes.

FSLock

A hard disc locking utility which is supplied as part of the operating
system. FSLock is described in more detail later on in this document.

VProtect

A virus protection module which will detect and report attempted infections
>from all currently known viruses.

The standard RISC OS applications such as Edit, Paint, Draw and Alarm remain
essentially the same.

Draw

Now supports screen modes with 16 million colour. It is also possible to
export Draw files as Encapsulated PostScript (EPS) files.  This will allow
them to be easily imported by most PC based object oriented drawing programs
e.g. Corel Draw.

Paint

Paint is now capable of displaying, but not editing, 16 million colour
pictures but in all other respects, remains the same.

Alarm

Some minor changes have been made to the Alarm application to improve
usability. In all other respects, Alarm remains the same.

Edit

No change.

Printers

The printer manager, Printers version 1.22 now has been greatly improved and
supports the following features;

         Background printing (For applications which use the
          RISC OS printer drivers as specified)
         Improved colour printing
         New and improved printer definition files
         Improved default options
         PostScript printing improvements
         Support for Acorn Access (Acorn's peer-to-peer networking system)
         New file output option
         Paper size editing
         Simpler definition file installation

AUN

Support is now provided in ROM for AUN (Acorn Universal Networking).

The System Watchdog

A new application which is included as part of the new Operating System is
Watchdog. This application will allow the user to 'kill' programs which have
not returned control to the WIMP and are preventing normal operation.

FSLock - CMOS and Hard Disk Protection

FSLock is a hard disk and CMOS RAM locking utility which, when active, will
prevent unwanted changes being made to either the software configuration,
stored in CMOS RAM, or hard disk contents. Any machine can be in one of
three states;

         No password set
         Password set, computer unlocked
         Password set, computer locked

It is very important to remember that the only way to bypass the password
protection used by FSLock is to change a link on the computer's PCB. It is
not possible to do so without disassembling the computer. For this reason
one must be quite careful when setting the password on the machine. Please
remember that if the password is removed from the system, anybody can quite
easily set their own password without your permission. For this reason, it
may be necessary to have a password set but keep the machine unlocked. If a 
user then wishes to change the password, they will need to know the password
which is currently set.
Dynamic Areas

New memory management

In RISC OS 3.5 the new SWI OS_DynamicArea is provided for you to create
dynamic areas, get information about them, and delete them. This allows you to
claim and release your own area(s) of memory that are managed by the kernel.
This is far preferable to illicitly using (say) a part of the RMA or sprite
area, as has been common practice in the past.

As all operations on dynamic areas work in physical page numbers, you cannot
map anything other than RAM pages (DRAM and VRAM) into a dynamic area. In
particular you cannot map in the extension to the existing expansion card
bus space, known as the EASI space.


                         New Hardware Support

PC Style keyboard

The Acorn Risc PC now uses an industry standard PS2 PC style keyboard.
Because of the new modular design of the keyboard handler, it is now
possible to write an alternative to the standard driver which is supplied as
a module with the operating system. This opens up the possibility of
developing drivers for custom/special needs input devices.

Mouse types supported

Three mouse types are now supported as standard;

         The standard RISC OS (quadrature) mouse
         Microsoft Serial mouse
         Mouse Systems serial mouse

The quadrature mouse driver has been removed from the kernel and placed in
its own module. A serial mouse driver for a PC-type mouse is available as an
alternative.


Serial Port

The serial port device driver has been changed in version 3.5 to optimise its
performance with the new hardware. It is now possible to transfer data
through the serial port at speeds of up to 115K baud, even in the desktop.

Parallel Port

The parallel port now supports the 'fast parallel' protocol which will, if
the printer supports it, increase the speed of transfers from the machine to
the printer

Memory

RISC OS 3 Version 3.5 can support up to 256Mb of DRAM in addition to 2Mb of
VRAM (for high resolution graphics). The maximum amount of memory supported
by previous versions of RISC OS was 16Mb.

The page size has been reduced to 4K this will help to minimise memory used
by RISC OS applications. Support has been added for a second processor or
bus-master to cooperatively access system memory.

Please see the appendix for more information on the memory management system.

DMA Software interface

An API (applications programmer interface) to the DMA system has been added
to help developers take advantage of this new hardware feature. Details on
how to use this new interface can be found in the supplement to the
Programmer's Reference manual.

Please see the appendix for more information on the DMA system.

New expansion slots

The new architecture expansion card interface has been enhanced in several
ways. It now supports (in addition to the existing facilities):

         32bit wide data paths

         A new 16MB address space for each card

         A dedicated Network card interface

         Direct Memory Access



                                  Appendices

Memory Management

Memory management now incorporates the following

         Up to 256MB DRAM and 2MB VRAM memory allowed.

         Direct memory access (DMA) control.

         Any second processor card can claim a chunk of memory.

         The physical RAM allocation does not have to be contiguous.

         The ARM600 MMU page table allocation.

         Expansion of the logical memory map to a full 32 bit address space.

         Page size of 4K.



DMA

There are four DMA (Direct Memory Access) channels, these service a
potentially large number of devices.

The DMA module:

         Performs the arbitration and switching between devices (with help
          from the device drivers).

         Provides a general purpose software interface to the DMA channel
          hardware.

         Isolates hardware from software so that changes to the hardware
          only affect the DMA manager and not DMA clients.

         Handles memory mapping and memory management so that DMA clients
          are not concerned with logical to physical address translation
          or page address mappings during a DMA operation.

A DMA client registers itself with the DMA manager as the owner of a logical
device. It then requests DMA transfers as and when necessary.

-----------------------------------------------------------------------------

From mhardy@acorn.co.uk Thu Apr 21 10:28:14 1994
Path: doc.ic.ac.uk!lyra.csx.cam.ac.uk!pipex!uknet!acorn!not-for-mail
From: mhardy@acorn.co.uk (Michael Hardy)
Newsgroups: comp.sys.acorn
Subject: Re: New PRM?
Date: 20 Apr 1994 15:44:41 +0100
Organization: Acorn Computers Ltd, Cambridge, England
Lines: 32
Message-ID: <2p3f4p$cv6@acorn.acorn.co.uk>
References: <1994Apr17.172458.1@vxdesy.desy.de>
NNTP-Posting-Host: acorn.acorn.co.uk

In article <1994Apr17.172458.1@vxdesy.desy.de> burke@vxdesy.desy.de
(Stephen Burke) writes:

>Does anyone know if there'll be a new version of the PRM for the new
>machines?

There is. It is a supplement to the existing PRM, detailing the changes
between RISC OS 3.1 and RISC OS 3.5. It also has indexes to all five volumes
(ie the existing PRM, plus the supplement).

It has been finished, but is not yet printed. It should be available for
purchase within the next three months; an announcement will be made to
comp.sys.acorn.announce when this happens. A Technical Reference Manual will
follow shortly thereafter.

To assist you in ordering the PRM supplement, you might wish to know that its
Acorn product code is ACJ 05, and its ISBN number is 1 85250 147 2. Its
price has yet to be decided.

I hope this helps.

- Michael J Hardy

--------------------------+-------------------------------------------------
  Technical Publications  | Email:      mhardy@acorn.co.uk
  Acorn Computers Ltd     |-------------------------------------------------
  Acorn House             | Telephone:  +44 223 254352
  Vision Park             | Fax:        +44 223 254262
  Histon                  | Telex:      329118 EXECOM G
  Cambridge CB4 4AE       |-------------------------------------------------
  England                 | Disclaimer: All opinions are my own, not Acorn's
--------------------------+-------------------------------------------------

