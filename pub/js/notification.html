<html>
	<head>
		<title>Notification</title>
			<meta charset="utf-8">
			<meta name="viewport" content="width=device-width, initial-scale=1">
			<link rel="canonical" href="https://foldoc.org/pub/js/notification.html">
		</head>
		<body>
<script>
	if (location.protocol !== 'https:') location.href = 'https://foldoc.org/pub/js/notification.html';
// https://stackoverflow.com/questions/2271156/chrome-desktop-notification-example#

// request permission on page load
document.addEventListener('DOMContentLoaded', function ()
{
	if (! Notification) return alert('No desktop notification support');

	check();
});

function check()
{
	if (Notification.permission == 'granted') return;

	return Notification.requestPermission(function (p)
	{
		console.log('Permission ', Notification.permission);
	});
}

function notifyMe()
{
	check();
	var notification = new Notification('Notification title',
	{
		icon: 'http://cdn.sstatic.net/stackexchange/img/logos/so/so-icon.png',
		body: 'You have been notified!',
	});
	notification.onclick = function ()
	{
		window.open("http://stackoverflow.com/a/13328397/1269037");
	};
	console.log(notification);
}
</script>
<button onclick="notifyMe()">Notify me!</button>
</body>
</html>
